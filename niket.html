<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Gradient Sky Cigarette Scene + Horror Surprise</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        height: 100vh;
        overflow: hidden;
        font-family: "Segoe UI", sans-serif;
        background: linear-gradient(
          to top,
          #0f0f0f 0%,
          #1a1a2e 40%,
          #293462 100%
        );
      }

      .scene {
        position: relative;
        width: 100%;
        height: 100%;
      }

      .ashtray {
        position: absolute;
        bottom: 50px;
        left: 90px;
        width: 260px;
        height: 40px;
        background: radial-gradient(circle at center, #333 20%, #111);
        border-radius: 20px;
        box-shadow: inset 0 5px 10px #000, 0 0 20px rgba(0, 0, 0, 0.6);
        z-index: 1;
      }

      .cigarette {
        position: absolute;
        bottom: 80px;
        left: 120px;
        width: 220px;
        height: 18px;
        background: linear-gradient(
          to right,
          #9b5e2e 0 18%,
          #caa66b 18% 22%,
          #eee 22% 94%,
          #e0e0e0 94% 97%,
          #3a0d00 97% 100%
        );
        border-radius: 8px;
        box-shadow: 0 0 8px rgba(255, 60, 0, 0.4);
        z-index: 2;
      }

      .burn-tip {
        position: absolute;
        right: 0;
        top: 0;
        width: 8px;
        height: 18px;
        background: radial-gradient(circle, #ff5722, #d50000, transparent);
        border-top-right-radius: 8px;
        border-bottom-right-radius: 8px;
        animation: flicker 0.2s infinite;
      }

      @keyframes flicker {
        0% {
          opacity: 0.7;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0.5;
        }
      }

      .word {
        position: absolute;
        bottom: 100px;
        left: 315px;
        font-size: 18px;
        color: rgba(255, 255, 255, 0.75);
        animation: riseWord 6s ease-in-out forwards;
        white-space: nowrap;
        pointer-events: none;
        filter: blur(0.4px);
        z-index: 5;
      }

      @keyframes riseWord {
        0% {
          transform: translate(0, 0) scale(0.8) rotate(0deg);
          opacity: 0;
        }
        30% {
          opacity: 1;
        }
        50% {
          transform: translate(-20px, -100px) scale(1) rotate(-5deg);
          opacity: 0.8;
        }
        80% {
          transform: translate(20px, -200px) scale(1.1) rotate(10deg);
          opacity: 0.4;
        }
        100% {
          transform: translate(-15px, -300px) scale(1.3) rotate(-10deg);
          opacity: 0;
        }
      }

      .ash {
        position: absolute;
        width: 4px;
        height: 12px;
        background: #b3b3b3;
        bottom: 90px;
        left: 315px;
        border-radius: 2px;
        box-shadow: 0 0 5px #ccc;
        animation: fallAsh 3s ease-in forwards;
        opacity: 0.9;
        z-index: 3;
      }

      @keyframes fallAsh {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 0.9;
        }
        50% {
          transform: translateY(25px) rotate(15deg);
          opacity: 0.7;
        }
        100% {
          transform: translateY(60px) rotate(40deg);
          opacity: 0;
        }
      }

      /* 📦 Surprise Card */
      .surprise-card {
        position: absolute;
        top: 50px;
        right: 60px;
        width: 240px;
        height: 160px;
        background: rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        backdrop-filter: blur(8px);
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        padding: 20px;
        color: #fff;
        z-index: 5;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .surprise-card button {
        padding: 10px 20px;
        border: none;
        background: #ff4d4d;
        color: white;
        font-size: 16px;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 20px;
        transition: background 0.3s;
      }

      .surprise-card button:hover {
        background: #cc0000;
      }

      /* 👻 Horror popup */
      .horror-popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: black;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 999;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.4s ease;
      }

      .horror-popup img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .horror-popup.active {
        opacity: 1;
        pointer-events: auto;
      }
    </style>
  </head>
  <body>
    <div class="scene" id="scene">
      <div class="ashtray"></div>
      <div class="cigarette">
        <div class="burn-tip"></div>
      </div>

      <!-- 🎁 Surprise Card -->
      <div class="surprise-card">
        <div>Click the box... if you dare 😈</div>
        <button onclick="triggerHorror()">Surprise Box</button>
      </div>
    </div>

    <!-- 😱 Horror Popup -->
    <div class="horror-popup" id="popup">
      <img src="https://i.imgur.com/OZCAl4x.jpg" alt="Horror" />
      <audio
        id="scream"
        src="https://www.fesliyanstudios.com/play-mp3/387"
        preload="auto"
      ></audio>
    </div>

    <script>
      const scene = document.getElementById("scene");
      const story = "When the world was silent the smoke spoke for me".split(
        " "
      );
      let index = 0;

      function emitWord() {
        if (index >= story.length) return;
        const word = document.createElement("div");
        word.className = "word";
        word.innerText = story[index];
        word.style.left = 300 + Math.random() * 20 - 10 + "px";
        word.style.fontSize = 16 + Math.random() * 4 + "px";
        scene.appendChild(word);
        setTimeout(() => word.remove(), 6500);
        index++;
      }

      function dropAsh() {
        const ash = document.createElement("div");
        ash.className = "ash";
        scene.appendChild(ash);
        setTimeout(() => ash.remove(), 3000);
      }

      function autoFlow() {
        emitWord();
        dropAsh();
        if (index < story.length) {
          setTimeout(autoFlow, 1400);
        }
      }

      autoFlow();

      document.body.addEventListener("click", () => {
        emitWord();
        dropAsh();
      });

      function triggerHorror() {
        const popup = document.getElementById("popup");
        const scream = document.getElementById("scream");
        popup.classList.add("active");
        scream.play();

        setTimeout(() => {
          popup.classList.remove("active");
          scream.pause();
          scream.currentTime = 0;
        }, 4000);
      }
    </script>
  </body>
</html>
