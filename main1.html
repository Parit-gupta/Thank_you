<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sample</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <audio id="bg-music" loop>
      <source src="tenderness.mp3" type="audio/mp3" />
    </audio>

    <audio id="click-sound">
      <source src="mouse-click-290204.mp3" type="audio/mp3" />
    </audio>

    <audio id="type-sound">
      <source src="mouse-type.mp3" type="audio/mp3" />
    </audio>

    <div id="start-overlay">
      <div class="rgb-glow">
        <button id="start-btn">Start</button>
        <div class="rgb-waves"></div>
      </div>
      <div class="funny-intro-text">
        <p id="funny-line"></p>
      </div>
    </div>

    <div id="intro-overlay">
      <img src="group-photo.jpg" alt="Any sticker" />
    </div>

    <div class="sky">
      <div class="stars">
        <div class="aurora"></div>
      </div>

      <h1 class="typing">Sample Features Showcase</h1>

      <div class="card-container">
        <div class="card">
          <div class="card-image-slider">
            <img src="img1.jpg" alt="Sample 1" />
            <img src="img2.jpg" alt="Sample 2" />
            <img src="img3.jpg" alt="Sample 3" />
          </div>
          <h2>Sample Title 1</h2>
          <button onclick="openModal('modal1')">Click Here</button>
        </div>

        <div class="card">
          <div class="card-image-slider">
            <img src="img4.jpg" alt="Sample 4" />
            <img src="img5.jpg" alt="Sample 5" />
            <img src="img6.jpg" alt="Sample 6" />
          </div>
          <h2>Sample Title 2</h2>
          <button onclick="openModal('modal2')">Click Here</button>
        </div>

        <!-- More cards as needed -->
      </div>

      <div id="modal1" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal1')">&times;</span>
          <h3>Sample Feature Title 1</h3>
          <p>Sample description for feature or inspiration.</p>
          <div class="photo-gallery">
            <img src="extra1.jpg" alt="Extra 1" />
            <img src="extra2.jpg" alt="Extra 2" />
            <img src="extra3.jpg" alt="Extra 3" />
          </div>
        </div>
      </div>

      <div id="modal2" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal2')">&times;</span>
          <h3>Sample Feature Title 2</h3>
          <p>Sample description for second feature or idea.</p>
          <div class="photo-gallery">
            <img src="extra4.jpg" alt="Extra 4" />
            <img src="extra5.jpg" alt="Extra 5" />
          </div>
        </div>
      </div>

      <footer>
        <p>
          With appreciation,<br />
          Sample Footer Text<br />
          Summer Demo 2025
        </p>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const startBtn = document.getElementById("start-btn");
        const funnyText = document.getElementById("funny-line");
        const intro = document.getElementById("intro-overlay");
        const mainSky = document.querySelector(".sky");
        const bgMusic = document.getElementById("bg-music");
        const typeSound = document.getElementById("type-sound");
        const starContainer = document.querySelector(".stars");

        let confettiInstance;
        let activeShootingStars = 0;
        const MAX_SHOOTING_STARS = 150;
        let meteorShowerActive = false;
        let meteorShowerTimeout;

        // ðŸŽ¬ Start button logic
        startBtn.addEventListener("click", () => {
          startBtn.style.display = "none"; // remove button
          const funnyLines = [
            "ðŸš€ Launching Feelz Rocket...",
            "ðŸ’– Packing gratitude...",
            "ðŸŽ¯ Target locked: Hearts!",
            "âœ¨ Countdown started...",
          ];
          let i = 0;

          function typeNext() {
            if (i < funnyLines.length) {
              funnyText.textContent = funnyLines[i];
              typeSound.currentTime = 0;
              typeSound.play().catch(() => {});
              i++;
              setTimeout(typeNext, 1000);
            } else {
              setTimeout(() => {
                document.getElementById("start-overlay").style.display = "none";
                intro.style.display = "flex";
                setTimeout(() => intro.classList.add("active"), 50);
                bgMusic.play().catch(() => {});
                setTimeout(() => {
                  intro.classList.add("fade-out");
                  setTimeout(() => {
                    intro.style.display = "none";
                    mainSky.classList.add("show");
                    document
                      .querySelector(".typing")
                      .classList.add("start-typing");
                    setTimeout(() => {
                      document
                        .querySelector(".card-container")
                        .classList.add("show-cards");
                    }, 5000);
                    setTimeout(() => {
                      document
                        .querySelector("footer")
                        .classList.add("show-footer");
                    }, 7000);
                    startRegularShootingStars();
                    scheduleMeteorShower();
                  }, 2000);
                }, 4000);
              }, 1000);
            }
          }

          typeNext();
        });

        // âœ¨ Shooting star animation â€” top to right-bottom diagonal
        const createShootingStar = () => {
          if (activeShootingStars >= MAX_SHOOTING_STARS) return;

          const shoot = document.createElement("div");
          shoot.classList.add("shooting-star");

          const viewportWidth = window.innerWidth;
          const viewportHeight = window.innerHeight;

          const startX = Math.random() * viewportWidth;
          const startY = -20;
          const endX = viewportWidth + 200;
          const endY = viewportHeight + 200;

          const duration = Math.random() * 2 + 2;
          const delay = Math.random() * 0.5;
          const starLength = Math.random() * 100 + 150;

          const angleDeg = 45;
          const animationName = `shoot-star-${Date.now()}-${Math.random()
            .toString(36)
            .substring(7)}`;
          const styleSheet = document.styleSheets[0];
          const keyframesRule = `
        @keyframes ${animationName} {
          from {
            transform: translate(${startX}px, ${startY}px) rotate(${angleDeg}deg);
            opacity: 1;
            width: ${starLength}px;
          }
          to {
            transform: translate(${endX}px, ${endY}px) rotate(${angleDeg}deg);
            opacity: 0;
            width: ${starLength}px;
          }
        }`;
          styleSheet.insertRule(keyframesRule, styleSheet.cssRules.length);
          shoot.style.animation = `${animationName} ${duration}s linear ${delay}s forwards`;

          starContainer.appendChild(shoot);
          activeShootingStars++;

          shoot.addEventListener("animationend", () => {
            shoot.remove();
            activeShootingStars--;
            if (!meteorShowerActive) {
              setTimeout(createShootingStar, Math.random() * 3000 + 1000);
            } else if (activeShootingStars < 50) {
              setTimeout(createShootingStar, Math.random() * 100 + 50);
            }
          });
        };

        const startRegularShootingStars = () => {
          for (let i = 0; i < 5; i++) {
            setTimeout(createShootingStar, i * 500);
          }
        };

        const startMeteorShower = () => {
          if (meteorShowerActive) return;
          meteorShowerActive = true;
          let showerCount = 0;
          const showerDuration = 10000;
          const showerInterval = 50;

          const showerRepeater = setInterval(() => {
            if (activeShootingStars < MAX_SHOOTING_STARS) {
              createShootingStar();
              createShootingStar();
              showerCount++;
            }
          }, showerInterval);

          setTimeout(() => {
            clearInterval(showerRepeater);
            meteorShowerActive = false;
            scheduleMeteorShower();
          }, showerDuration);
        };

        const scheduleMeteorShower = () => {
          const nextShowerDelay = Math.random() * 4000 + 4000;
          meteorShowerTimeout = setTimeout(startMeteorShower, nextShowerDelay);
        };

        // ðŸŒŸ Static background stars
        for (let i = 0; i < 400; i++) {
          const star = document.createElement("span");
          Object.assign(star.style, {
            position: "absolute",
            width: `${Math.random() * 2 + 1}px`,
            height: `${Math.random() * 2 + 1}px`,
            borderRadius: "50%",
            background: "white",
            top: `${Math.random() * 100}vh`,
            left: `${Math.random() * 100}vw`,
            animation: "blinkStar 2s infinite ease-in-out",
            animationDelay: `${Math.random() * 5}s`,
            opacity: 0.2,
          });
          starContainer.appendChild(star);
        }

        // âœ¨ Glowing circles
        function createGlowingCircle() {
          const circle = document.createElement("div");
          circle.classList.add("glowing-circle");
          const size = Math.random() * 40 + 20;
          circle.style.width = `${size}px`;
          circle.style.height = `${size}px`;
          circle.style.left = `${Math.random() * 100}vw`;
          circle.style.top = `${Math.random() * 100}vh`;
          circle.style.animationDelay = `${Math.random() * 2}s`;
          starContainer.appendChild(circle);
        }

        for (let i = 0; i < 15; i++) createGlowingCircle();

        // ðŸ“¸ Card image slider
        document.querySelectorAll(".card-image-slider").forEach((slider) => {
          const images = slider.querySelectorAll("img");
          let current = 0;
          if (images.length > 0) {
            images[current].classList.add("active");
          }
          setInterval(() => {
            if (images.length === 0) return;
            images[current].classList.remove("active");
            current = (current + 1) % images.length;
            images[current].classList.add("active");
          }, 2000);
        });

        // ðŸŽ‰ Confetti modal logic
        function openModal(id) {
          const clickSound = document.getElementById("click-sound");
          clickSound.currentTime = 0;
          clickSound.play().catch(() => {});
          const modal = document.getElementById(id);
          modal.style.display = "flex";
          confettiInstance = setInterval(() => {
            confetti({ particleCount: 20, spread: 70, origin: { y: 0.6 } });
          }, 200);
          setTimeout(() => clearInterval(confettiInstance), 2000);
          const images = modal.querySelectorAll(".photo-gallery img");
          images.forEach((img) => {
            img.classList.remove("fade-zoom");
            void img.offsetWidth;
            img.classList.add("fade-zoom");
          });
        }

        function closeModal(id) {
          const modal = document.getElementById(id);
          const content = modal.querySelector(".modal-content");
          content.classList.add("closing");
          setTimeout(() => {
            modal.style.display = "none";
            content.classList.remove("closing");
          }, 300);
          confettiInstance = setInterval(() => {
            confetti({ particleCount: 20, spread: 70, origin: { y: 0.6 } });
          }, 200);
          setTimeout(() => clearInterval(confettiInstance), 2000);
        }

        window.openModal = openModal;
        window.closeModal = closeModal;
      });
    </script>
  </body>
</html>
